<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundSphere</title>
    <style>
        body {
            font-family: 'Circular', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: white;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: #000;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sidebar h2 {
            font-size: 24px;
            color: #1d8fb9;
            margin-bottom: 30px;
        }

        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }

        .sidebar ul li {
            padding: 10px 0;
        }

        .sidebar ul li a {
            text-decoration: none;
            color: white;
            font-size: 16px;
            transition: 0.3s;
            display: flex;
            align-items: center;
        }

        .sidebar ul li a:hover {
            color: #1db6b9;
        }

        .stats-panel {
            background-color: #1f1f1f;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .stats-panel h3 {
            font-size: 16px;
            margin-bottom: 12px;
            color: #1db6b9;
        }

        .stats-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #333;
        }

        .stats-item:last-child {
            border-bottom: none;
        }

        .stats-label {
            color: #aaa;
            font-size: 14px;
        }

        .stats-value {
            font-weight: bold;
            font-size: 14px;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #181818;
            background: linear-gradient(rgba(18, 18, 18, 0.9), rgba(18, 18, 18, 0.9)), url('vinyl-1845272_640.jpg') no-repeat center center/cover;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border-radius: 20px;
            border: none;
            outline: none;
            font-size: 16px;
            background-color: #282828;
            color: white;
            transition: all 0.3s ease;
        }

        .search-bar input:focus {
            background-color: #333;
            box-shadow: 0 0 10px rgba(29, 182, 185, 0.3);
        }

        .songs-list {
            margin-top: 20px;
        }

        .songs-list ul {
            list-style: none;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .songs-list ul li {
            padding: 15px;
            background: #282828;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            position: relative;
            border-left: 3px solid transparent;
        }

        .songs-list ul li:hover {
            background: #333;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border-left-color: #1db6b9;
        }

        .song-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
            color: white;
        }

        .song-artist {
            font-size: 14px;
            color: #aaa;
            margin-bottom: 5px;
        }

        .song-genre {
            display: inline-block;
            font-size: 12px;
            background-color: #1d8fb9;
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            margin-top: 5px;
        }

        .song-actions {
            display: flex;
            gap: 5px;
            margin-top: 12px;
            justify-content: flex-end;
        }

        .fav-btn {
            background: #282828;
            color: #ffcc00;
            border: 1px solid #ffcc00;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .fav-btn:hover, .fav-btn.active {
            background: #ffcc00;
            color: black;
        }

        .delete-btn {
            background: #282828;
            color: #e63946;
            border: 1px solid #e63946;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .delete-btn:hover {
            background: #e63946;
            color: white;
        }

        .music-player {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.9);
            padding: 2px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            z-index: 100;
        }

        .song-info {
            flex: 1;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
        }

        .song-thumbnail {
            width: 50px;
            height: 50px;
            background: #1db6b9;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .song-details {
            display: flex;
            flex-direction: column;
        }

        .now-playing {
            font-size: 12px;
            color: #aaa;
        }

        #song-title {
            font-size: 16px;
            font-weight: bold;
            margin: 0;
        }

        #song-artist {
            font-size: 14px;
            color: #aaa;
            margin: 0;
        }

        .controls {
            display: flex;
            align-items: center;
        }

        .controls button {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            margin: 0 15px;
            transition: 0.3s;
        }

        .controls button:hover {
            color: #321db9;
        }

        .progress-bar {
            flex: 2;
            margin: 0 20px;
            height: 5px;
            background: #282828;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
        }

        .progress {
            height: 100%;
            background: #09919b;
            border-radius: 5px;
            width: 0%;
        }

        .volume-control {
            display: flex;
            align-items: center;
        }

        .volume-control input {
            margin-left: 10px;
            cursor: pointer;
        }

        #audio-player {
            display: none;
        }

        @media (max-width: 992px) {
            #songList {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                padding: 10px;
            }

            .music-player {
                flex-direction: column;
                padding: 10px;
                gap: 10px;
            }

            .controls {
                order: 1;
                margin: 10px 0;
            }

            .progress-bar {
                order: 2;
                width: 100%;
                margin: 0;
            }

            .song-info {
                order: 0;
                width: 100%;
                justify-content: center;
            }

            .volume-control {
                order: 3;
                margin-top: 10px;
            }

            #songList {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <nav class="sidebar">
            <h2>SoundSphere</h2>
            <ul>
                <li><a href="#" onclick="displayAllSongs()">Home</a></li>
                <li><a href="C:\testlab\review.html">Review</a></li>
                <li><a href="C:\testlab\Subscription.html">Subscription</a></li>
                <li><a href="#" onclick="displayFavorites()">Favorites</a></li>
                <li><a href="#" onclick="addSampleSongs()">Add More Songs</a></li>
            </ul>

            <div class="stats-panel">
                <h3>Library Statistics</h3>
                <div class="stats-item">
                    <span class="stats-label">Total Songs</span>
                    <span class="stats-value" id="total-songs">0</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Favorites</span>
                    <span class="stats-value" id="total-favorites">0</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Artists</span>
                    <span class="stats-value" id="total-artists">0</span>
                </div>
                <div class="stats-item">
                    <span class="stats-label">Genres</span>
                    <span class="stats-value" id="total-genres">0</span>
                </div>
            </div>
        </nav>
        <div class="main-content">
            <div class="search-bar">
                <input type="text" id="search" placeholder="Search for songs..." onkeyup="searchSongs()">
            </div>

            <div class="songs-list">
                <h3>Song List</h3>
                <ul id="songList"></ul>
            </div>
        </div>
    </div>
    <div class="music-player">
        <div class="song-info">
            <div class="song-thumbnail">
                <i class="fas fa-music"></i>
            </div>
            <div class="song-details">
                <span class="now-playing">Now Playing</span>
                <p id="song-title">No song playing</p>
                <p id="song-artist">Unknown Artist</p>
            </div>
        </div>
        <div class="controls">
            <button onclick="previousSong()">&#9664;</button>
            <button id="play-pause-btn" onclick="togglePlay()">&#9658;</button>
            <button onclick="nextSong()">&#9654;</button>
        </div>
        <div class="progress-bar" onclick="seek(event)">
            <div class="progress" id="progress"></div>
        </div>
        <div class="volume-control">
            <button onclick="toggleMute()">&#128266;</button>
            <input type="range" id="volume" min="0" max="1" step="0.1" value="1" onchange="setVolume(this.value)">
        </div>
        <audio id="audio-player">
            <source src="" type="audio/mp3">
        </audio>
    </div>
    <script>
        
        let songs = JSON.parse(localStorage.getItem("songs")) || [];
        let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
        let currentSongIndex = 0;
        const audioPlayer = document.getElementById("audio-player");
        const songList = document.getElementById("songList");

        
        const sampleSongs = [
            {
                id: '1',
                name: 'Blinding Lights',
                artist: 'The Weeknd',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'
            },
            {
                id: '2',
                name: 'Save Your Tears',
                artist: 'The Weeknd',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3'
            },
            {
                id: '3',
                name: 'Levitating',
                artist: 'Dua Lipa',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'
            },
            {
                id: '4',
                name: 'Stay',
                artist: 'The Kid LAROI, Justin Bieber',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3'
            },
            {
                id: '5',
                name: 'Good 4 U',
                artist: 'Olivia Rodrigo',
                genre: 'Rock',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3'
            },
            {
                id: '6',
                name: 'Montero',
                artist: 'Lil Nas X',
                genre: 'Hip-Hop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3'
            },
            {
                id: '7',
                name: 'Peaches',
                artist: 'Justin Bieber',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3'
            },
            {
                id: '8',
                name: 'Kiss Me More',
                artist: 'Doja Cat ft. SZA',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3'
            },
            {
                id: '9',
                name: 'Butter',
                artist: 'BTS',
                genre: 'K-Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-9.mp3'
            },
            {
                id: '10',
                name: 'Industry Baby',
                artist: 'Lil Nas X ft. Jack Harlow',
                genre: 'Hip-Hop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3'
            },
            {
                id: '11',
                name: 'Bad Habits',
                artist: 'Ed Sheeran',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-11.mp3'
            },
            {
                id: '12',
                name: 'Shivers',
                artist: 'Ed Sheeran',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-12.mp3'
            },
            {
                id: '13',
                name: 'Cold Heart',
                artist: 'Elton John, Dua Lipa',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-13.mp3'
            },
            {
                id: '14',
                name: 'Easy On Me',
                artist: 'Adele',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-14.mp3'
            },
            {
                id: '15',
                name: 'Happier Than Ever',
                artist: 'Billie Eilish',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3'
            },
            {
                id: '16',
                name: 'Stay',
                artist: 'Post Malone',
                genre: 'Hip-Hop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-16.mp3'
            },
            {
                id: '17',
                name: 'Love Again',
                artist: 'Dua Lipa',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-17.mp3'
            },
            {
                id: '18',
                name: 'Beggin',
                artist: 'Måneskin',
                genre: 'Rock',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-18.mp3'
            },
            {
                id: '19',
                name: 'Don\'t Start Now',
                artist: 'Dua Lipa',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-19.mp3'
            },
            {
                id: '20',
                name: 'Watermelon Sugar',
                artist: 'Harry Styles',
                genre: 'Pop',
                url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-20.mp3'
            }
        ];

        
        function addSampleSongs() {
            
            const newSongs = sampleSongs.filter(sampleSong => 
                !songs.some(existingSong => existingSong.id === sampleSong.id)
            );
            
            if (newSongs.length > 0) {
                songs = [...songs, ...newSongs];
                localStorage.setItem("songs", JSON.stringify(songs));
                displayAllSongs();
                updateStatistics();
                alert(`${newSongs.length} new songs added to your library!`);
            } else {
                alert("All sample songs are already in your library.");
            }
        }

        
        function updateStatistics() {
            document.getElementById("total-songs").textContent = songs.length;
            document.getElementById("total-favorites").textContent = favorites.length;
            document.getElementById("total-artists").textContent = [...new Set(songs.map(song => song.artist))].length;
            document.getElementById("total-genres").textContent = [...new Set(songs.map(song => song.genre))].length;
        }

        
        function displayAllSongs() {
            songList.innerHTML = "";
            if (songs.length === 0) {
                displayEmptyState("Your library is empty", "Add some music to get started");
                return;
            }
            renderSongList(songs);
        }

        
        function displayFavorites() {
            songList.innerHTML = "";
            if (favorites.length === 0) {
                displayEmptyState("No favorites yet", "Mark songs as favorites to see them here");
                return;
            }
            renderSongList(favorites);
        }

        
        function renderSongList(songArray) {
            songArray.forEach((song) => {
                const songItem = document.createElement("li");
                
                
                const titleElement = document.createElement("div");
                titleElement.className = "song-title";
                titleElement.textContent = song.name;
                
                const artistElement = document.createElement("div");
                artistElement.className = "song-artist";
                artistElement.textContent = song.artist;
                
                const genreElement = document.createElement("div");
                genreElement.className = "song-genre";
                genreElement.textContent = song.genre;
                
                songItem.appendChild(titleElement);
                songItem.appendChild(artistElement);
                songItem.appendChild(genreElement);
                
                
                const actionsDiv = document.createElement("div");
                actionsDiv.className = "song-actions";
                
                
                const favBtn = document.createElement("button");
                const isFavorite = favorites.some(fav => fav.id === song.id);
                favBtn.className = `fav-btn ${isFavorite ? 'active' : ''}`;
                favBtn.innerHTML = isFavorite ? '★' : '☆';
                
                favBtn.onclick = (e) => {
                    e.stopPropagation();
                    toggleFavorite(song);
                    favBtn.className = `fav-btn ${favorites.some(fav => fav.id === song.id) ? 'active' : ''}`;
                    favBtn.innerHTML = favorites.some(fav => fav.id === song.id) ? '★' : '☆';
                    updateStatistics();
                };
                
                
                if (songArray === songs) {
                    const deleteBtn = document.createElement("button");
                    deleteBtn.className = "delete-btn";
                    deleteBtn.innerHTML = '❌';
                    deleteBtn.onclick = (e) => {
                        e.stopPropagation();
                        deleteSong(song.id);
                    };
                    actionsDiv.appendChild(deleteBtn);
                }
                
                actionsDiv.appendChild(favBtn);
                songItem.appendChild(actionsDiv);
                
                
                songItem.onclick = () => {
                    playSong(songs.findIndex(s => s.id === song.id));
                };
                
                songList.appendChild(songItem);
            });
        }

       
        function displayEmptyState(title, message) {
            const emptyState = document.createElement("div");
            emptyState.innerHTML = `
                <h3>${title}</h3>
                <p>${message}</p>
            `;
            songList.appendChild(emptyState);
        }

        
        function toggleFavorite(song) {
            const songIndex = favorites.findIndex(fav => fav.id === song.id);
            if (songIndex > -1) {
                favorites.splice(songIndex, 1);
            } else {
                favorites.push(song);
            }
            localStorage.setItem("favorites", JSON.stringify(favorites));
            updateStatistics();
        }

        
        function deleteSong(songId) {
            if (!confirm("Are you sure you want to delete this song?")) return;
            
            const songIndex = songs.findIndex(song => song.id === songId);
            if (songIndex > -1) {
                if (songIndex === currentSongIndex) {
                    nextSong();
                }
                songs.splice(songIndex, 1);
                localStorage.setItem("songs", JSON.stringify(songs));
                
                const favIndex = favorites.findIndex(fav => fav.id === songId);
                if (favIndex > -1) {
                    favorites.splice(favIndex, 1);
                    localStorage.setItem("favorites", JSON.stringify(favorites));
                }
                
                displayAllSongs();
                updateStatistics();
            }
        }

        
        function playSong(index) {
            if (index < 0 || index >= songs.length) return;
            
            currentSongIndex = index;
            const song = songs[index];
            
            document.getElementById("song-title").textContent = song.name;
            document.getElementById("song-artist").textContent = song.artist;
            
            audioPlayer.src = song.url;
            audioPlayer.load(); 
            audioPlayer.play()
                .then(() => {
                    document.getElementById("play-pause-btn").innerHTML = '⏸';
                })
                .catch(error => {
                    console.error("Error playing audio:", error);
                    alert("There was an error playing this song. Please try another one.");
                });
        }

        
        function togglePlay() {
            if (songs.length === 0) {
                alert("No songs in your library. Add some songs first.");
                return;
            }
            
            if (audioPlayer.paused) {
                if (!audioPlayer.src) {
                    playSong(0);
                } else {
                    audioPlayer.play()
                        .then(() => {
                            document.getElementById("play-pause-btn").innerHTML = '⏸';
                        })
                        .catch(error => {
                            console.error("Error playing audio:", error);
                            alert("Error playing audio. Please try another song.");
                        });
                }
            } else {
                audioPlayer.pause();
                document.getElementById("play-pause-btn").innerHTML = '▶';
            }
        }

        
        function previousSong() {
            if (songs.length === 0) return;
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            playSong(currentSongIndex);
        }

        
        function nextSong() {
            if (songs.length === 0) return;
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            playSong(currentSongIndex);
        }

        
        function seek(event) {
            if (!audioPlayer.duration) return;
            const progressBar = event.currentTarget;
            const clickPosition = event.offsetX;
            const seekTime = (clickPosition / progressBar.clientWidth) * audioPlayer.duration;
            audioPlayer.currentTime = seekTime;
        }

        
        function setVolume(volume) {
            audioPlayer.volume = volume;
        }

        
        function toggleMute() {
            audioPlayer.muted = !audioPlayer.muted;
        }

       
        function searchSongs() {
            const query = document.getElementById("search").value.toLowerCase().trim();
            
            if (query === "") {
                displayAllSongs();
                return;
            }
            
            const filteredSongs = songs.filter(song =>
                song.name.toLowerCase().includes(query) ||
                song.artist.toLowerCase().includes(query) ||
                song.genre.toLowerCase().includes(query)
            );
            
            songList.innerHTML = "";
            if (filteredSongs.length === 0) {
                displayEmptyState("No results found", "Try a different search term");
            } else {
                renderSongList(filteredSongs);
            }
        }

        
        audioPlayer.addEventListener("timeupdate", () => {
            if (!isNaN(audioPlayer.duration)) {
                const progressPercent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                document.getElementById("progress").style.width = `${progressPercent}%`;
            }
        });

        
        audioPlayer.addEventListener("ended", nextSong);

       
        audioPlayer.addEventListener("error", () => {
            console.error("Audio playback error:", audioPlayer.error);
            alert("Error playing this song. Please try another one.");
            nextSong();
        });

        
        window.onload = function() {
            
            if (songs.length === 0) {
                songs = sampleSongs;
                localStorage.setItem("songs", JSON.stringify(songs));
            }
            
            updateStatistics();
            displayAllSongs();
            
            
            audioPlayer.volume = document.getElementById("volume").value;
        };
    </script>
</body>
</html>